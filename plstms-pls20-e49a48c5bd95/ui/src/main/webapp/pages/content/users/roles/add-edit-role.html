<div data-ng-controller="AddEditRoleCtrl">
    <div id="addEditRoleDialog" data-pls-modal="editRoleModel.showEditRole"
        data-close="closeEditRoleDialog()" class="modalWidth9 modalHeight7"
        data-enter-allowed="{{!(_.isEmpty(editRoleModel.role.name))}}"
        data-enter="saveRole()">

        <div class="modal-header">
            <h4>
                <span ng-if="!editRoleModel.role.id">Add</span>
                <span ng-if="editRoleModel.role.id">Edit</span> Role
            </h4>
        </div>
        <div class="modal-body">

            <form name="addEditRoleForm" novalidate class="margin0">
                <div class="row-fluid">
                    <label class="control-label text-right label-middle span2"
                        for="roleName">Role Name:</label> &nbsp; <input id="roleName"
                        type="text" class="span3" data-ng-model="editRoleModel.role.name"
                        data-ng-maxlength="100" required />
                </div>
                <div class="row-fluid">
                    <div class="control-group">
                        <label class="control-label text-right span2 label-middle"
                            for="filterText">All Permissions:</label> &nbsp;
                        <input id="filterText" class="span3" type="text"
                            data-ng-model="searchText" placeholder="search"
                            data-ng-change="searchPermissions()" />
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span5">
                        <div class="gridStyle gridHeight4 span12 table"
                            data-ng-grid="allPermissionsGrid"></div>
                    </div>
                    <div class="span2">
                        <br> <br> <br> <br> <br> <br>
                        <div class="btn-block">
                            <button type="button" class="btn btn-block"
                                data-ng-disabled="permissionsToAdd.length == 0"
                                data-ng-click="addPermissions()">Add &gt;</button>
                            <button type="button" class="btn btn-block"
                                data-ng-disabled="_.isEmpty(permissionsToRemove)"
                                data-ng-click="removePermissions()">&lt; Remove</button>
                        </div>

                    </div>
                    <div class="span5">
                        <div class="gridStyle gridHeight4 span12 table"
                            data-ng-grid="rolePermissionsGrid"></div>
                    </div>
                </div>
            </form>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn"
                data-ng-click="closeEditRoleDialog()()">Cancel</button>
            <button type="button" class="btn"
                data-ng-disabled="_.isEmpty(editRoleModel.role.name)"
                data-ng-click="saveRole()">Save</button>
        </div>
    </div>
</div>