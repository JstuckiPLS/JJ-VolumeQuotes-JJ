<div id="searchSalesOrderDialog" data-pls-modal="searchSalesOrderModel.showDialog" data-close="closeSearchDialog()"
     class="modalWidth12 modalHeight7 a_detailsDialog" data-options="searchSalesOrderModel.modalOptions"
     data-enter="attachVendorBill()"
     data-ng-controller="SalesOrderForVendorBillController">

    <div class="modal-header">
        <h4>Search Sales Order</h4>
    </div>

    <div class="modal-body">
        <div class="row-fluid">
            <h5>Selected Vendor Bill</h5>
        </div>
        <div class="row-fluid">
            <div class="span1 form-vertical">
                <label for="bolSpan" class="control-label text-warning">BOL</label>

                <div class="controls wrap">
                    <span id="bolSpan" data-ng-bind="searchSalesOrderModel.vendorBill.bol"></span>
                </div>
            </div>
            <div class="span1 form-vertical">
                <label for="proSpan" class="control-label text-warning">Pro #</label>

                <div class="controls wrap">
                    <span id="proSpan" data-ng-bind="searchSalesOrderModel.vendorBill.pro"></span>
                </div>
            </div>
            <div class="span1 form-vertical">
                <label for="poSpan" class="control-label text-warning">PO #</label>

                <div class="controls wrap">
                    <span id="poSpan" data-ng-bind="searchSalesOrderModel.vendorBill.po"></span>
                </div>
            </div>
            <div class="span2 form-vertical">
                <label for="originSpan" class="control-label text-warning">Origin</label>

                <div class="controls">
                    <span id="originSpan" data-ng-bind="searchSalesOrderModel.vendorBill.originAddress.zip | zip"></span>
                </div>
            </div>
            <div class="span2 form-vertical">
                <label for="destinationSpan" class="control-label text-warning">Destination</label>

                <div class="controls">
                    <span id="destinationSpan" data-ng-bind="searchSalesOrderModel.vendorBill.destinationAddress.zip | zip"></span>
                </div>
            </div>
            <div class="span1 form-vertical">
                <label for="carrierSpan" class="control-label text-warning">Carrier</label>

                <div class="controls">
                    <span id="carrierSpan" data-ng-bind="searchSalesOrderModel.vendorBill.carrier.name"></span>
                </div>
            </div>
            <div class="span2 form-vertical">
                <label for="actualPickupDateSpan" class="control-label text-warning">Actual Pickup</label>

                <div class="controls">
                    <span id="actualPickupDateSpan" data-ng-bind="searchSalesOrderModel.vendorBill.actualPickupDate | date:appDateFormat"></span>
                </div>
            </div>
            <div class="span1 form-vertical">
                <label for="weightSpan" class="control-label text-warning">Weight</label>

                <div class="controls">
                    <span id="weightSpan" class="text-success" data-ng-bind="searchSalesOrderModel.vendorBill | materialWeight"></span>
                </div>
            </div>
            <div class="span1 form-vertical">
                <label for="totalSpan" class="control-label text-warning">Cost</label>

                <div class="controls">
                    <span id="totalSpan" class="text-success" data-ng-bind="searchSalesOrderModel.vendorBill.amount | plsCurrency"></span>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12 well well-small">
                <div data-ng-form="salesOrdersSearchForm" data-pls-input-cleaning>
                    <div class="span11">
                        <div class="row-fluid">

                        <div class="span7 form-inline">
                            <div class="span6 form-inline">
                                <label class="span3 control-label" for="originZip">Origin:</label>
                                <input id="originZip" class="span9" data-pls-zip-search="searchSalesOrderModel.search.origin"
                                       data-input-label-filter="zip"
                                       data-country="searchSalesOrderModel.search.originCountry.id"
                                       data-zip-disabled="!searchSalesOrderModel.search.originCountry" data-zip-required="false">

                            </div>
                            <div class="span6 form-inline">
                                <label class="span3 control-label" for="destinationZip">Destination:</label>
                                <input id="destinationZip" class="span9" data-pls-zip-search="searchSalesOrderModel.search.destination"
                                       data-input-label-filter="zip"
                                       data-country="searchSalesOrderModel.search.destinationCountry.id"
                                       data-zip-disabled="!searchSalesOrderModel.search.destinationCountry" data-zip-required="false">
                            </div>
                        </div>

                        <div class="span2 form-inline">
                            <label class="span4 control-label" for="bolZip">BOL:</label>
                            <input id="bolZip" type="text" class="span8" data-ng-model="searchSalesOrderModel.search.bol" data-pls-wildcard-search>
                        </div>

                        <div class="span2">
                            <label class="span4" for="carrierInput">Carrier:</label>

                            <div class="span8">
                                <input id="carrierInput" data-pls-scac-search="searchSalesOrderModel.search.carrier">
                            </div>
                        </div>
                    </div>
                        <div class="row-fluid">

                        <div class="span7 form-inline">
                            <div class="span6 form-inline">
                                <label class="span3 control-label" for="originCountryInput">Country:</label>
                                <input class="span9" data-pls-country-search="searchSalesOrderModel.search.originCountry" id="originCountryInput">
                            </div>

                            <div class="span6 form-inline">
                                <label class="span3 control-label" for="destinationCountryInput">Country:</label>
                                <input class="span9" data-pls-country-search="searchSalesOrderModel.search.destinationCountry"
                                       id="destinationCountryInput">
                            </div>
                        </div>

                        <div class="span2 form-inline">
                            <label class="span4 control-label" for="proZip">Pro #:</label>
                            <input id="proZip" type="text" class="span8" data-ng-model="searchSalesOrderModel.search.pro">
                        </div>

                        <div class="span2 form-inline">
                            <label for="actualPickupDateInput" class="span4 control-label">Actual Pickup:</label>

                            <div class="span8 input-append">
                                <input name="dateField" type="text" id="actualPickupDateInput"
                                       data-ng-model="searchSalesOrderModel.search.actualPickupDate" data-date-format="mm/dd/yy"
                                       data-ng-required="!searchSalesOrderModel.search.bol && !searchSalesOrderModel.search.pro &&
                               (!searchSalesOrderModel.search.origin || !searchSalesOrderModel.search.destination || !searchSalesOrderModel.search.carrier)"
                                       data-max-date="maxFromDate"
                                       data-pls-datepicker class="input-small"/>
                                <button type="button" class="btn" data-toggle="datepicker">
                                    <i class="icon-calendar"></i>
                                </button>
                            </div>
                        </div>

                    </div>
                    </div>
                    <div class="span1">
                        <button type="button" class="btn btn-block" ng-disabled="!salesOrdersSearchForm.$valid" data-ng-click="findSalesOrders()">Search
                        </button>
                        <button type="button" class="btn btn-block" data-ng-click="clearSalesOrders()">Clear
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <h5>Matched Sales Orders:</h5>
        </div>
        <div class="row-fluid">
            <div class="gridStyle span12 gridHeight3" data-ng-grid="salesOrdersGrid" data-ng-model="salesOrders"></div>
        </div>
    </div>

    <div class="modal-footer">
        <div class="row-fluid">
            <div class="span12">
                <div class="offset6 span6">
                    <button type="button" class="offset4 btn span2" data-ng-click="viewOrder()"
                            data-ng-disabled="searchSalesOrderModel.selectedSaleOrders.length != 1">View Order
                    </button>
                    <button type="button" class="btn span4" data-ng-click="attachVendorBill()"
                            data-ng-disabled="searchSalesOrderModel.selectedSaleOrders.length != 1">Attach Vendor Bill
                    </button>
                    <button type="button" class="btn span2" data-ng-click="closeSearchDialog()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>